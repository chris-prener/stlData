<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>City of St. Louis Data • stldata</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="City of St. Louis Data">
<meta property="og:description" content="Contains a number of data sets representing various phenomena in the City of St. Louis.
    These data sets are primary designed for teaching statistics, data science, and
    spatial data analysis using R.">
<meta property="og:image" content="https://slu-openGIS.github.io/stlData/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">stldata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/slu-openGIS/stldata">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="stldata" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#stldata" class="anchor"></a>stldata <img src="reference/figures/logo.png" align="right">
</h1></div>

<p>The <code>stlData</code> package contains various data sets representing the City of St. Louis. These data sets are primary designed for teaching statistics, data science, and spatial data analysis using <code>R</code>.</p>
<div id="important-lifecycle-update" class="section level2">
<h2 class="hasAnchor">
<a href="#important-lifecycle-update" class="anchor"></a>Important Lifecycle Update</h2>
<p>As of <strong>June 4, 2019,</strong> this package has been moved to a <a href="https://www.tidyverse.org/lifecycle/#questioning">“questioning” lifecycle stats</a> - some of its functionality has been shifted to the still-developing <a href="https://github.com/slu-openGIS/gateway"><code>gateway</code> package</a>, while other aspects are better handeled by teaching students to import raw data sources. Development has therefore been suspended, with no current plans to return to this package in the future.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install <code>stldata</code> from <a href="https://github.com/chris-prener/stlData">Github</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"slu-openGIS/stlData"</span>)</a></code></pre></div>
</div>
<div id="use-with-simple-features" class="section level2">
<h2 class="hasAnchor">
<a href="#use-with-simple-features" class="anchor"></a>Use with Simple Features</h2>
<p>One goal of <code>stldata</code> is to provide accessible data for learning how to manipulate and map simple features objects in <code>R</code>. However, the installation of <a href="https://r-spatial.github.io/sf/"><code>sf</code></a> requires a number of dependencies. To make <code>stldata</code> as accessible as possible, <code>sf</code> is not required. If <code>sf</code> is not installed, only the data tables listed below will be fully accessible and functional.</p>
</div>
<div id="current-data" class="section level2">
<h2 class="hasAnchor">
<a href="#current-data" class="anchor"></a>Current Data</h2>
<div id="data-tables" class="section level3">
<h3 class="hasAnchor">
<a href="#data-tables" class="anchor"></a>Data Tables</h3>
<p>The package currently contains eight data tables stored as tibbles with quantitative data about the city:</p>
<ul>
<li>
<code>stl_tbl_asthma</code> - current asthma prevalence in 2014 by census tract via <a href="https://www.cdc.gov/500cities/">Centers for Disease Control 500 Cities Project</a>
</li>
<li>
<code>stl_tbl_income</code> - 2010 and 2015 median income estimates via the American Community Survey, by census tract</li>
<li>
<code>stl_tbl_insurance</code> - lack of health insurance in 2014 by census tract via <a href="https://www.cdc.gov/500cities/">Centers for Disease Control 500 Cities Project</a>
</li>
<li>
<code>stl_tbl_lead</code> - blood lead level test result data from 2010-2015 via <a href="http://www.reuters.com/investigates/special-report/usa-lead-testing/#interactive-lead">Reuters</a> and 2015 5-year estimates for demographics (poverty and race) via the American Community Survey, by census tract</li>
<li>
<code>stl_tbl_murders</code> - all murders between 2008 and 2016 via the St. Louis Metropolitan Police Department</li>
<li>
<code>stl_tbl_sluPlaces</code> - a small number of locations at Saint Louis University</li>
<li>
<code>stl_tbl_smoking</code> - current smoking in 2014 by census tract via <a href="https://www.cdc.gov/500cities/">Centers for Disease Control 500 Cities Project</a>
</li>
<li>
<code>stl_tbl_water</code> - rivers and streams listed under the Clean Water Act via the <a href="http://msdis.missouri.edu">Missouri Spatial Data Information Service</a>
</li>
</ul>
</div>
<div id="simple-features-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#simple-features-objects" class="anchor"></a>Simple Features Objects</h3>
<p>The package contains four <code>sf</code> objects describing the City of St. Louis:</p>
<ul>
<li>
<code>stl_sf_boundary</code> - city boundary</li>
<li>
<code>stl_sf_historic</code> - historic districts</li>
<li>
<code>stl_sf_hydro</code> - Missouri side of the Mississippi River and the River Des Peres</li>
<li>
<code>stl_sf_tracts</code> - 2016 census tracts</li>
</ul>
</div>
<div id="conversion-of-tibbles-to-sf-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#conversion-of-tibbles-to-sf-objects" class="anchor"></a>Conversion of Tibbles to <code>sf</code> Objects</h3>
<p>The following tibbles can be converted to <code>sf</code> objects using the <code>stl_as_sf()</code> function:</p>
<ul>
<li><code>stl_tbl_asthma</code></li>
<li><code>stl_tbl_income</code></li>
<li><code>stl_tbl_insurance</code></li>
<li><code>stl_tbl_lead</code></li>
<li><code>stl_tbl_smoking</code></li>
</ul>
<p>Input tables should not be quoted when the <code>stl_as_sf()</code> function is used:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">asthma &lt;-<span class="st"> </span><span class="kw">stl_as_sf</span>(stl_tbl_asthma)</a></code></pre></div>
</div>
</div>
<div id="useage" class="section level2">
<h2 class="hasAnchor">
<a href="#useage" class="anchor"></a>Useage</h2>
<div id="basic-usage" class="section level3">
<h3 class="hasAnchor">
<a href="#basic-usage" class="anchor"></a>Basic Usage</h3>
<p>Once the package is loaded, the data contained in <code>stldata</code> can be assigned to data frames in your global environment and then explored. For example, to load the <code>stl_tbl_asthma</code> data:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(<span class="st">"stldata"</span>)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">asthma &lt;-<span class="st"> </span>stl_tbl_asthma</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(asthma)</a></code></pre></div>
<p>Additional examples and information are available in each table’s help file. For example:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">?stl_tbl_asthma</a></code></pre></div>
</div>
<div id="skill-building" class="section level3">
<h3 class="hasAnchor">
<a href="#skill-building" class="anchor"></a>Skill Building</h3>
<p>The <code>stl_tbl_murders</code> and <code>stl_tbl_water</code> data have been created for practicing data wrangling. The murder data can be used for working with demographic data specifically, and the water data have both missing and duplicate information. The <code>stl_tbl_sluPlaces</code> table is meant for introducing basic mapping wither either <code><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot()</a></code>, <code>ggplot2</code>, or <code>leaflet</code>. All of the tables excepting <code>stl_tbl_sluPlaces</code> contain count or rate data suitable for plotting, and the data measured at the census tract level can be use for practicing joins with demographic data from <code>tidycensus</code>.</p>
</div>
<div id="mapping-with-sf" class="section level3">
<h3 class="hasAnchor">
<a href="#mapping-with-sf" class="anchor"></a>Mapping with <code>sf</code>
</h3>
<p>If you have the <a href="https://github.com/tidyverse/ggplot2">development version of <code>ggplot2</code></a>, the <code>sf</code> objects in the package can be mapped using the <code>geom_sf()</code> function:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> stl_sf_boundary, <span class="dt">fill =</span> <span class="st">"#5d5d5d"</span>, <span class="dt">color =</span> <span class="st">"#5d5d5d"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> stl_sf_historic, <span class="dt">fill =</span> <span class="st">"#d48a72"</span>, <span class="dt">color =</span> <span class="st">"#d48a72"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> stl_sf_hydro, <span class="dt">fill =</span> <span class="st">"#72bcd4"</span>, <span class="dt">color =</span> <span class="st">"#72bcd4"</span>)  <span class="op">+</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Historic Districts"</span>, <span class="dt">subtitle =</span> <span class="st">"St. Louis, MO"</span>)</a></code></pre></div>
<p><img src="reference/figures/refMap.png"></p>
<p>When the tibbles like <code>stl_tbl_asthma</code> are converted to <code>sf</code> objects, they can be mapped as well:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">asthma &lt;-<span class="st"> </span><span class="kw">stl_as_sf</span>(stl_tbl_asthma)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> asthma, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">fill =</span> pctAsthma), <span class="dt">color =</span> <span class="st">"#5d5d5d"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="st">  </span><span class="kw">scale_fill_viridis</span>(<span class="dt">name =</span> <span class="st">"Percent"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Crude Asthma Prevalence"</span>, <span class="dt">subtitle =</span> <span class="st">"St. Louis, MO"</span>)</a></code></pre></div>
<p><img src="reference/figures/asthmaMap.png"></p>
</div>
</div>
<div id="contributor-code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#contributor-code-of-conduct" class="anchor"></a>Contributor Code of Conduct</h2>
<p>Please note that this project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/slu-openGIS/stldata">https://​github.com/​slu-openGIS/​stldata</a>
</li>
<li>Report a bug at <br><a href="https://github.com/slu-openGIS/stldata/issues">https://​github.com/​slu-openGIS/​stldata/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://chris-prener.github.io">Christopher Prener</a> <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#questioning"><img src="https://img.shields.io/badge/lifecycle-questioning-blue.svg" alt="lifecycle"></a></li>
<li><a href="https://travis-ci.org/slu-openGIS/stldata"><img src="https://travis-ci.org/slu-openGIS/stldata.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/chris-prener/stldata"><img src="https://ci.appveyor.com/api/projects/status/github/slu-openGIS/stldata?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://codecov.io/github/slu-openGIS/stldata?branch=master"><img src="https://img.shields.io/codecov/c/github/slu-openGIS/stldata/master.svg" alt="Coverage Status"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/85344799"><img src="https://zenodo.org/badge/85344799.svg" alt="DOI"></a></li>
<li><a href="https://cran.r-project.org/package=stldata"><img src="http://www.r-pkg.org/badges/version/stldata" alt="CRAN_Status_Badge"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://chris-prener.github.io">Christopher Prener</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
